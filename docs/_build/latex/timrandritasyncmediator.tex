%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}


\usepackage{sphinxmessages}
\setcounter{tocdepth}{1}



\title{TImR and RITA Sync Mediator}
\date{Dec 27, 2021}
\release{}
\author{Ally Shaban}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}



\chapter{Installing The Mediator}
\label{\detokenize{install:installing-the-mediator}}\label{\detokenize{install::doc}}
\sphinxAtStartPar
\sphinxstylestrong{All installation instructions below assumes that the mediator is running under Ubuntu OS}

\sphinxAtStartPar
\sphinxstyleemphasis{nodejs}
The mediator requires nodejs to run, node 16 or above is recommended

\begin{sphinxVerbatim}[commandchars=\\\{\}]
sudo apt\PYGZhy{}get install nodejs
\end{sphinxVerbatim}

\sphinxAtStartPar
\sphinxstyleemphasis{npm}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
sudo apt\PYGZhy{}get install npm
\end{sphinxVerbatim}

\sphinxAtStartPar
You might need to upgrade your node version to the latest stable version
Check installed version

\begin{sphinxVerbatim}[commandchars=\\\{\}]
node \PYGZhy{}\PYGZhy{}version
\end{sphinxVerbatim}

\sphinxAtStartPar
If less than 16 then upgrade with below commands

\begin{sphinxVerbatim}[commandchars=\\\{\}]
sudo npm install n \PYGZhy{}g
sudo n stable
\end{sphinxVerbatim}

\sphinxAtStartPar
Now time to clone source codes from github, run below command to clone

\begin{sphinxadmonition}{note}{Note:}
\sphinxAtStartPar
You need to have git installed to be able to clone the source code
\end{sphinxadmonition}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
git clone https://github.com/ashaban/openhim\PYGZhy{}mediator\PYGZhy{}timr\PYGZhy{}rita.git
\end{sphinxVerbatim}

\sphinxAtStartPar
Install mediator dependencies

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{cd} openhim\PYGZhy{}mediator\PYGZhy{}timr\PYGZhy{}rita
npm install
\end{sphinxVerbatim}


\chapter{Configuring The Mediator}
\label{\detokenize{configuration:configuring-the-mediator}}\label{\detokenize{configuration::doc}}\begin{description}
\item[{\sphinxstyleemphasis{Configuration to connect the mediator with openHIM}}] \leavevmode
\sphinxAtStartPar
inside the mediator, use your preffered text editor and open config.json under config folder

\begin{sphinxVerbatim}[commandchars=\\\{\}]
vim config/config.json
\end{sphinxVerbatim}

\sphinxAtStartPar
Below is the content of config.json

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{o}{\PYGZob{}}
  \PYG{l+s+s2}{\PYGZdq{}api\PYGZdq{}}: \PYG{o}{\PYGZob{}}
    \PYG{l+s+s2}{\PYGZdq{}username\PYGZdq{}}: \PYG{l+s+s2}{\PYGZdq{}root@openhim.org\PYGZdq{}},
    \PYG{l+s+s2}{\PYGZdq{}password\PYGZdq{}}: \PYG{l+s+s2}{\PYGZdq{}openhim\PYGZhy{}password\PYGZdq{}},
    \PYG{l+s+s2}{\PYGZdq{}apiURL\PYGZdq{}}: \PYG{l+s+s2}{\PYGZdq{}https://localhost:8080\PYGZdq{}},
    \PYG{l+s+s2}{\PYGZdq{}trustSelfSigned\PYGZdq{}}: \PYG{n+nb}{true}
  \PYG{o}{\PYGZcb{}},
  \PYG{l+s+s2}{\PYGZdq{}register\PYGZdq{}}: \PYG{n+nb}{true}
\PYG{o}{\PYGZcb{}}
\end{sphinxVerbatim}

\sphinxAtStartPar
Change username and password to a real account that can connect to openHIM

\sphinxAtStartPar
If the mediator and openHIM are on different servers, then you will need to change the apiURL

\end{description}

\begin{sphinxadmonition}{note}{Note:}
\sphinxAtStartPar
You need to start the mediator with below commands before you can proceed with the rest of the configurations
\end{sphinxadmonition}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{cd} openhim\PYGZhy{}mediator\PYGZhy{}timr\PYGZhy{}rita
node index.js
\end{sphinxVerbatim}
\begin{description}
\item[{\sphinxstyleemphasis{Configuration parameters of the mediator with TImR and RITA}}] \leavevmode
\sphinxAtStartPar
Login to openHIM and click the mediators link
Click to open the TImR\sphinxhyphen{}RITA Trigger mediator

\noindent\sphinxincludegraphics[height=250\sphinxpxdimen]{{mediator-index}.png}

\sphinxAtStartPar
Click the gear icon next to configuration to open the configuration page that looks as below

\noindent\sphinxincludegraphics{{mediator-configuration}.png}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
TImR OAUTH2 section defines credentials needed to request access token from TImR that will be used to query data in TImR

\item {} 
\sphinxAtStartPar
TImR section defines credentials for querying data to TImR

\item {} 
\sphinxAtStartPar
RITA section defines credentials required to push data inside RITA.
\begin{itemize}
\item {} 
\sphinxAtStartPar
URL: is the RITA base URL

\item {} 
\sphinxAtStartPar
username: is the user that has permission to push data to RITA

\item {} 
\sphinxAtStartPar
password: is the password of the user that has permission to push data to RITA

\item {} 
\sphinxAtStartPar
Last Sync: is the last time data was pushed to RITA, the mediator uses this time to pull updated data from TImR since this time

\item {} 
\sphinxAtStartPar
Reset Last Sync: Use this if you want to reset the mediator and pull all children data from TImR and push them to RITA

\end{itemize}

\item {} 
\sphinxAtStartPar
FHIR Server defines credentials to connect to the FHIR server that has facilities and administrative areas mapping data between RITA and TImR

\end{enumerate}

\end{description}


\chapter{Running the mediator and logs location}
\label{\detokenize{running:running-the-mediator-and-logs-location}}\label{\detokenize{running::doc}}
\sphinxAtStartPar
The mediator can be run using below commands

\begin{sphinxVerbatim}[commandchars=\\\{\}]
sudo service timr\PYGZhy{}rita\PYGZhy{}mediator start
\end{sphinxVerbatim}

\sphinxAtStartPar
The mediator can be manually run as well using below commands

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{cd} openhim\PYGZhy{}mediator\PYGZhy{}timr\PYGZhy{}rita
node index.js
\end{sphinxVerbatim}

\sphinxAtStartPar
To view logs, run below command

\begin{sphinxVerbatim}[commandchars=\\\{\}]
sudo journalctl \PYGZhy{}f \PYGZhy{}u timr\PYGZhy{}rita\PYGZhy{}mediator.service
\end{sphinxVerbatim}


\chapter{Data synchronization \sphinxhyphen{} Tabular}
\label{\detokenize{sync:data-synchronization-tabular}}\label{\detokenize{sync::doc}}
\sphinxAtStartPar
The mediator comes with a single API that can be triggered to push data to RITA. The name of the API is /pushPatients which supports the POST method. This end point pulls data from TImR using FHIR standard which then it converts these data to RITA format and finally sends the converted data to RITA.


\section{\sphinxstyleemphasis{Below are the data elements that are currently being sent to RITA}}
\label{\detokenize{sync:below-are-the-data-elements-that-are-currently-being-sent-to-rita}}

\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Variables}\label{\detokenize{sync:id1}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline

\sphinxAtStartPar
Name
&
\sphinxAtStartPar
Value
\\
\hline
\sphinxAtStartPar
\$mother
&
\sphinxAtStartPar
contained.find(c=\textgreater{}c.resourceType == “RelatedPerson” \&\& c.relationship.coding{[}0{]}.code == “MTH”)
\\
\hline
\sphinxAtStartPar
\$father
&
\sphinxAtStartPar
contained.find(c=\textgreater{}c.resourceType == “RelatedPerson” \&\& c.relationship.coding{[}0{]}.code == “FTH”)
\\
\hline
\sphinxAtStartPar
\$informant
&
\sphinxAtStartPar
contained.find(c=\textgreater{}c.resourceType == “RelatedPerson” \&\& c.relationship.coding{[}0{]}.code == “Contact”)
\\
\hline
\sphinxAtStartPar
\$createdBy
&
\sphinxAtStartPar
extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/CreatedBy}”).valueReference.reference
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxatlongtablestart\begin{longtable}[c]{|l|l|}
\sphinxthelongtablecaptionisattop
\caption{RITA\sphinxhyphen{}FHIR Mappings\strut}\label{\detokenize{sync:id2}}\\*[\sphinxlongtablecapskipadjust]
\hline

\endfirsthead

\multicolumn{2}{c}%
{\makebox[0pt]{\sphinxtablecontinued{\tablename\ \thetable{} \textendash{} continued from previous page}}}\\
\hline

\endhead

\hline
\multicolumn{2}{r}{\makebox[0pt][r]{\sphinxtablecontinued{continues on next page}}}\\
\endfoot

\endlastfoot

\sphinxAtStartPar
RITA DATA Element
&
\sphinxAtStartPar
RITA Data in FHIR (TImR)
\\
\hline
\sphinxAtStartPar
form\_number
&
\sphinxAtStartPar
identifier.find(id =\textgreater{} id.system == “\sphinxurl{http://ivd.moh.go.tz/timr/birthcert}”).value
\\
\hline
\sphinxAtStartPar
child\_first\_name
&
\sphinxAtStartPar
name{[}0{]}.given{[}0{]}
\\
\hline
\sphinxAtStartPar
child\_second\_name
&
\sphinxAtStartPar
name{[}0{]}.given{[}1{]}
\\
\hline
\sphinxAtStartPar
child\_last\_name
&
\sphinxAtStartPar
name{[}0{]}.family
\\
\hline
\sphinxAtStartPar
gender
&
\sphinxAtStartPar
gender
\\
\hline
\sphinxAtStartPar
child\_date\_of\_birth
&
\sphinxAtStartPar
birthDate
\\
\hline
\sphinxAtStartPar
birth\_place\_id
&
\sphinxAtStartPar
extension.find(
e =\textgreater{} e.url == “\sphinxurl{http://openiz.org/extensions/patient/contrib/timr/birthPlaceType}”
).valueDecimal
\\
\hline
\sphinxAtStartPar
health\_facility\_id
&
\sphinxAtStartPar
extension.find(
e =\textgreater{} e.url==”\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/DedicatedFacilty}”
).valueIdentifier.value
\\
\hline
\sphinxAtStartPar
child\_birth\_place\_village\_id
&
\sphinxAtStartPar
extension.find(
e =\textgreater{} e.url == “\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/Birthplace}”
).valueIdentifier.value
\\
\hline
\sphinxAtStartPar
delivery\_witness\_id
&
\sphinxAtStartPar
extension.find(
e =\textgreater{} e.url == “\sphinxurl{http://openiz.org/extensions/contrib/timr/birthAttendant}”
).valueDecimal
\\
\hline
\sphinxAtStartPar
mother\_first\_name
&
\sphinxAtStartPar
\$mother.name{[}0{]}.given{[}0{]}
\\
\hline
\sphinxAtStartPar
mother\_second\_name
&
\sphinxAtStartPar
\$mother.name{[}0{]}.given{[}1{]}
\\
\hline
\sphinxAtStartPar
mother\_last\_name
&
\sphinxAtStartPar
\$mother.name{[}0{]}.family
\\
\hline
\sphinxAtStartPar
mother\_national\_identity\_number
&
\sphinxAtStartPar
\$mother.identifier.find(
id =\textgreater{} id.system == “\sphinxurl{http://ivd.moh.go.tz/timr/nid}”
).value
\\
\hline
\sphinxAtStartPar
mother\_date\_of\_birth
&
\sphinxAtStartPar
\$mother.birthDate
\\
\hline
\sphinxAtStartPar
mother\_country\_birth\_id
&
\sphinxAtStartPar
\$mother.extension.find(
e =\textgreater{} e.url == “\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/Birthplace}”
).valueIdentifier.value
\\
\hline
\sphinxAtStartPar
mother\_nationality\_id
&
\sphinxAtStartPar
\$mother.extension.find(
e =\textgreater{} e.url == “\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/Citizen}”
).valueCode
\\
\hline
\sphinxAtStartPar
mother\_education\_id
&
\sphinxAtStartPar
\$mother.extension.find(
e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/socialIndicators/education}”
).valueCodeableConcept.coding{[}0{]}.code
\\
\hline
\sphinxAtStartPar
mother\_occupation\_id
&
\sphinxAtStartPar
\$mother.extension.find(
e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/socialIndicators/occupation}”
).valueCodeableConcept.coding{[}0{]}.code
\\
\hline
\sphinxAtStartPar
mother\_village\_id
&
\sphinxAtStartPar
\$mother.address.find(
addr =\textgreater{} addr.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/profile\#address-CensusTract}”
).valueString)
\\
\hline
\sphinxAtStartPar
father\_education\_id
&
\sphinxAtStartPar
\$father.extension.find(
e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/socialIndicators/education}”
).valueCodeableConcept.coding{[}0{]}.code
\\
\hline
\sphinxAtStartPar
father\_occupation\_id
&
\sphinxAtStartPar
\$father.extension.find(
e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/socialIndicators/occupation}”
).valueCodeableConcept.coding{[}0{]}.code
\\
\hline
\sphinxAtStartPar
father\_nationality\_id
&
\sphinxAtStartPar
\$father.extension.find(
e =\textgreater{} e.url == “\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/Citizen}”
).valueCode
\\
\hline
\sphinxAtStartPar
father\_country\_birth\_id
&
\sphinxAtStartPar
\$father.extension.find(
e =\textgreater{} e.url == “\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/Birthplace}”
).valueIdentifier.value
\\
\hline
\sphinxAtStartPar
father\_first\_name
&
\sphinxAtStartPar
\$father.name{[}0{]}.given{[}0{]}
\\
\hline
\sphinxAtStartPar
father\_second\_name
&
\sphinxAtStartPar
\$father.name{[}0{]}.given{[}1{]}
\\
\hline
\sphinxAtStartPar
father\_last\_name
&
\sphinxAtStartPar
\$father.name{[}0{]}.family
\\
\hline
\sphinxAtStartPar
father\_date\_of\_birth
&
\sphinxAtStartPar
\$father.birthDate
\\
\hline
\sphinxAtStartPar
father\_national\_identity\_number
&
\sphinxAtStartPar
\$father.identifier.find(id =\textgreater{} id.system == “\sphinxurl{http://ivd.moh.go.tz/timr/nid}”).value
\\
\hline
\sphinxAtStartPar
father\_village\_id
&
\sphinxAtStartPar
\$father.address.find(
addr =\textgreater{} addr.extension.find(e=\textgreater{}e.url == “\sphinxurl{http://openiz.org/fhir/profile\#address-CensusTract}”
).valueString)
\\
\hline
\sphinxAtStartPar
number\_of\_pregnancy
&
\sphinxAtStartPar
\$mother.extension.find(
e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/pregnancyStatus/previousPregnancies}”
).valueDecimal
\\
\hline
\sphinxAtStartPar
number\_of\_children
&
\sphinxAtStartPar
\$mother.extension.find(
e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/pregnancyStatus/previousPregnancies}”
).valueDecimal
\\
\hline
\sphinxAtStartPar
number\_of\_children\_safe\_delivery
&
\sphinxAtStartPar
\$mother.extension.find(
e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/pregnancyStatus/liveBirths}”
).valueDecimal
\\
\hline
\sphinxAtStartPar
number\_death\_before\_delivery
&
\sphinxAtStartPar
\$mother.extension.find(
e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/pregnancyStatus/preNatalDeaths}”
).valueDecimal
\\
\hline
\sphinxAtStartPar
month\_of\_pregnancy
&
\sphinxAtStartPar
\$mother.extension.find(
e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/pregnancyStatus/monthsCaring}”
).valueDecimal
\\
\hline
\sphinxAtStartPar
informant\_first\_name
&
\sphinxAtStartPar
\$informant.name{[}0{]}.given{[}0{]}
\\
\hline
\sphinxAtStartPar
informant\_second\_name
&
\sphinxAtStartPar
\$informant.name{[}0{]}.given{[}1{]}
\\
\hline
\sphinxAtStartPar
informant\_last\_name
&
\sphinxAtStartPar
\$informant.name{[}0{]}.family
\\
\hline
\sphinxAtStartPar
informant\_phone\_number
&
\sphinxAtStartPar
\$informant.telecom.find(tel =\textgreater{} tel.system == “phone”).value
\\
\hline
\sphinxAtStartPar
informant\_national\_identity\_number
&
\sphinxAtStartPar
\$informant.identifier.find(id =\textgreater{} id.system == “\sphinxurl{http://ivd.moh.go.tz/timr/nid}”).value
\\
\hline
\sphinxAtStartPar
informant\_relationship\_id
&
\sphinxAtStartPar
contained.find(c=\textgreater{}c.id == \$informant.id).relationship.coding{[}0{]}.code
\\
\hline
\sphinxAtStartPar
informant\_permanent\_residence\_village\_id
&
\sphinxAtStartPar
\$informant.address.find(
addr =\textgreater{} addr.extension.find(e=\textgreater{}e.url == “\sphinxurl{http://openiz.org/fhir/profile\#address-CensusTract}”
).valueString)
\\
\hline
\sphinxAtStartPar
date\_of\_informant
&
\sphinxAtStartPar
\$informant.meta.lastUpdated
\\
\hline
\sphinxAtStartPar
registration\_centre\_id
&
\sphinxAtStartPar
extension.find(
e =\textgreater{} e.url == “\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/RegistrationFacility}”
).valueIdentifier.value
\\
\hline
\sphinxAtStartPar
register\_date
&
\sphinxAtStartPar
meta.lastUpdated
\\
\hline
\sphinxAtStartPar
updated\_at
&
\sphinxAtStartPar
meta.lastUpdated
\\
\hline
\end{longtable}\sphinxatlongtableend\end{savenotes}

\sphinxAtStartPar
\sphinxstylestrong{Pending RITA Dataelements}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
birthStatus

\item {} 
\sphinxAtStartPar
childWeight

\item {} 
\sphinxAtStartPar
father\_date\_of\_birth

\item {} 
\sphinxAtStartPar
informant\_phone\_number

\item {} 
\sphinxAtStartPar
registrar\_first\_name

\item {} 
\sphinxAtStartPar
registrar\_second\_name

\item {} 
\sphinxAtStartPar
registrar\_last\_name

\end{enumerate}


\chapter{Data synchronization \sphinxhyphen{} List}
\label{\detokenize{synclist:data-synchronization-list}}\label{\detokenize{synclist::doc}}
\sphinxAtStartPar
The mediator comes with a single API that can be triggered to push data to RITA. The name of the API is /pushPatients which supports the POST method. This end point pulls data from TImR using FHIR standard which then it converts these data to RITA format and finally sends the converted data to RITA.

\sphinxAtStartPar
\sphinxstyleemphasis{Below are the data elements that are currently being sent to RITA}


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Variables}\label{\detokenize{synclist:id1}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline

\sphinxAtStartPar
Name
&
\sphinxAtStartPar
Value
\\
\hline
\sphinxAtStartPar
\$mother
&
\sphinxAtStartPar
contained.find(c=\textgreater{}c.resourceType==”RelatedPerson” \&\& c.relationship.coding{[}0{]}.code==”MTH”)
\\
\hline
\sphinxAtStartPar
\$father
&
\sphinxAtStartPar
contained.find(c=\textgreater{}c.resourceType==”RelatedPerson” \&\& c.relationship.coding{[}0{]}.code==”FTH”)
\\
\hline
\sphinxAtStartPar
\$informant
&
\sphinxAtStartPar
contained.find(c=\textgreater{}c.resourceType==”RelatedPerson” \&\& c.relationship.coding{[}0{]}.code==”Contact”)
\\
\hline
\sphinxAtStartPar
\$createdBy
&
\sphinxAtStartPar
extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/CreatedBy}”).valueReference.reference
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}
\begin{itemize}
\item {} 
\sphinxAtStartPar
form\_number
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
identifier.find(id=\textgreater{}id.system==”\sphinxurl{http://ivd.moh.go.tz/timr/birthcert}”).value

\end{enumerate}

\item {} 
\sphinxAtStartPar
child\_first\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
name{[}0{]}.given{[}0{]}

\end{itemize}

\item {} 
\sphinxAtStartPar
child\_second\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
name{[}0{]}.given{[}1{]}

\end{itemize}

\item {} 
\sphinxAtStartPar
child\_last\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
name{[}0{]}.family

\end{itemize}

\item {} 
\sphinxAtStartPar
gender
\begin{itemize}
\item {} 
\sphinxAtStartPar
gender

\end{itemize}

\item {} 
\sphinxAtStartPar
child\_date\_of\_birth
\begin{itemize}
\item {} 
\sphinxAtStartPar
birthDate

\end{itemize}

\item {} 
\sphinxAtStartPar
birth\_place\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/patient/contrib/timr/birthPlaceType}”).valueDecimal

\end{itemize}

\item {} 
\sphinxAtStartPar
health\_facility\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/DedicatedFacilty}”).valueIdentifier.value

\end{itemize}

\item {} 
\sphinxAtStartPar
child\_birth\_place\_village\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/Birthplace}”).valueIdentifier.value

\end{itemize}

\item {} 
\sphinxAtStartPar
delivery\_witness\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/birthAttendant}”).valueDecimal

\end{itemize}

\item {} 
\sphinxAtStartPar
mother\_first\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.name{[}0{]}.given{[}0{]}

\end{itemize}

\item {} 
\sphinxAtStartPar
mother\_second\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.name{[}0{]}.given{[}1{]}

\end{itemize}

\item {} 
\sphinxAtStartPar
mother\_last\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.name{[}0{]}.family

\end{itemize}

\item {} 
\sphinxAtStartPar
mother\_national\_identity\_number
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.identifier.find(id=\textgreater{}id.system==”\sphinxurl{http://ivd.moh.go.tz/timr/nid}”).value

\end{itemize}

\item {} 
\sphinxAtStartPar
mother\_date\_of\_birth
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.birthDate

\end{itemize}

\item {} 
\sphinxAtStartPar
mother\_country\_birth\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/Birthplace}”).valueIdentifier.value

\end{itemize}

\item {} 
\sphinxAtStartPar
mother\_nationality\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/Citizen}”).valueCode

\end{itemize}

\item {} 
\sphinxAtStartPar
mother\_education\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/socialIndicators/education}”).valueCodeableConcept.coding{[}0{]}.code

\end{itemize}

\item {} 
\sphinxAtStartPar
mother\_occupation\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/socialIndicators/occupation}”).valueCodeableConcept.coding{[}0{]}.code

\end{itemize}

\item {} 
\sphinxAtStartPar
mother\_village\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.address.find(addr=\textgreater{}addr.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/profile\#address-CensusTract}”).valueString)

\end{itemize}

\item {} 
\sphinxAtStartPar
father\_education\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$father.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/socialIndicators/education}”).valueCodeableConcept.coding{[}0{]}.code

\end{itemize}

\item {} 
\sphinxAtStartPar
father\_occupation\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$father.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/socialIndicators/occupation}”).valueCodeableConcept.coding{[}0{]}.code

\end{itemize}

\item {} 
\sphinxAtStartPar
father\_nationality\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$father.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/Citizen}”).valueCode

\end{itemize}

\item {} 
\sphinxAtStartPar
father\_country\_birth\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$father.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/Birthplace}”).valueIdentifier.value

\end{itemize}

\item {} 
\sphinxAtStartPar
father\_first\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$father.name{[}0{]}.given{[}0{]}

\end{itemize}

\item {} 
\sphinxAtStartPar
father\_second\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$father.name{[}0{]}.given{[}1{]}

\end{itemize}

\item {} 
\sphinxAtStartPar
father\_last\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$father.name{[}0{]}.family

\end{itemize}

\item {} 
\sphinxAtStartPar
father\_date\_of\_birth
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$father.birthDate

\end{itemize}

\item {} 
\sphinxAtStartPar
father\_national\_identity\_number
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$father.identifier.find(id=\textgreater{}id.system==”\sphinxurl{http://ivd.moh.go.tz/timr/nid}”).value

\end{itemize}

\item {} 
\sphinxAtStartPar
father\_village\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$father.address.find(addr=\textgreater{}addr.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/profile\#address-CensusTract}”).valueString)

\end{itemize}

\item {} 
\sphinxAtStartPar
number\_of\_pregnancy
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/pregnancyStatus/previousPregnancies}”).valueDecimal

\end{itemize}

\item {} 
\sphinxAtStartPar
number\_of\_children
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/pregnancyStatus/previousPregnancies}”).valueDecimal

\end{itemize}

\item {} 
\sphinxAtStartPar
number\_of\_children\_safe\_delivery
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/pregnancyStatus/liveBirths}”).valueDecimal

\end{itemize}

\item {} 
\sphinxAtStartPar
number\_death\_before\_delivery
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/pregnancyStatus/preNatalDeaths}”).valueDecimal

\end{itemize}

\item {} 
\sphinxAtStartPar
month\_of\_pregnancy
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$mother.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/extensions/contrib/timr/pregnancyStatus/monthsCaring}”).valueDecimal

\end{itemize}

\item {} 
\sphinxAtStartPar
informant\_first\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$informant.name{[}0{]}.given{[}0{]}

\end{itemize}

\item {} 
\sphinxAtStartPar
informant\_second\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$informant.name{[}0{]}.given{[}1{]}

\end{itemize}

\item {} 
\sphinxAtStartPar
informant\_last\_name
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$informant.name{[}0{]}.family

\end{itemize}

\item {} 
\sphinxAtStartPar
informant\_phone\_number
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$informant.telecom.find(tel=\textgreater{}tel.system==”phone”).value

\end{itemize}

\item {} 
\sphinxAtStartPar
informant\_national\_identity\_number
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$informant.identifier.find(id=\textgreater{}id.system==”\sphinxurl{http://ivd.moh.go.tz/timr/nid}”).value

\end{itemize}

\item {} 
\sphinxAtStartPar
informant\_relationship\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
contained.find(c=\textgreater{}c.id==\$informant.id).relationship.coding{[}0{]}.code

\end{itemize}

\item {} 
\sphinxAtStartPar
informant\_permanent\_residence\_village\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$informant.address.find(addr=\textgreater{}addr.extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/profile\#address-CensusTract}”).valueString)

\end{itemize}

\item {} 
\sphinxAtStartPar
date\_of\_informant
\begin{itemize}
\item {} 
\sphinxAtStartPar
\$informant.meta.lastUpdated

\end{itemize}

\item {} 
\sphinxAtStartPar
registration\_centre\_id
\begin{itemize}
\item {} 
\sphinxAtStartPar
extension.find(e=\textgreater{}e.url==”\sphinxurl{http://openiz.org/fhir/extension/rim/relationship/RegistrationFacility}”).valueIdentifier.value

\end{itemize}

\item {} 
\sphinxAtStartPar
register\_date
\begin{itemize}
\item {} 
\sphinxAtStartPar
meta.lastUpdated

\end{itemize}

\item {} 
\sphinxAtStartPar
updated\_at
\begin{itemize}
\item {} 
\sphinxAtStartPar
meta.lastUpdated

\end{itemize}

\end{itemize}

\sphinxAtStartPar
\sphinxstylestrong{Pending RITA Dataelements}
\begin{quote}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
birthStatus

\item {} 
\sphinxAtStartPar
childWeight

\item {} 
\sphinxAtStartPar
father\_date\_of\_birth

\item {} 
\sphinxAtStartPar
informant\_phone\_number

\item {} 
\sphinxAtStartPar
registrar\_first\_name

\item {} 
\sphinxAtStartPar
registrar\_second\_name

\item {} 
\sphinxAtStartPar
registrar\_last\_name

\end{enumerate}


\end{quote}



\renewcommand{\indexname}{Index}
\printindex
\end{document}